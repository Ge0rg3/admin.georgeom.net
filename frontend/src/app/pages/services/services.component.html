<div protected class="container-fluid">
    <!-- Row 1 -->
    <div class="row bubble">
        <!-- Header -->
        <div class="col-md-12">
            <h2 class="mt-0">Services</h2>
        </div>
    </div>

    <!-- Common bubble -->
    <div class="row bubble">
        <div class="col-md-12 text-center">
            <h4>Common Services</h4>
        </div>
        <hr>
        <div *ngIf="commonServices !== undefined">
            <service-rows [services]="commonServices" [minimal]="false" (serviceChangeRequest)="catchServiceChangeRequest($event)" (serviceChangeResponse)="catchServiceChangeResponse($event)"></service-rows>
        </div>
        <div *ngIf="commonServices === undefined" class="text-center">
            <img src="/assets/loading.gif" width="50">
        </div>
    </div>
    
    <!-- System bubble -->
    <div class="row bubble">
        <div class="col-md-12 text-center">
            <h4>System Services</h4>
        </div>
        <hr>
        <div *ngIf="systemServices !== undefined">
            <service-rows [services]="systemServices" [minimal]="false" (serviceChangeRequest)="catchServiceChangeRequest($event)" (serviceChangeResponse)="catchServiceChangeResponse($event)"></service-rows>
        </div>
        <div *ngIf="systemServices === undefined" class="text-center">
            <img src="/assets/loading.gif" width="50">
        </div>
    </div>
</div>

<!-- Stop/start/restart success modal -->
<button #modalTrigger class="d-none" data-toggle="modal" data-target="#modal">
    <!-- This button does not appear on the page, it is triggered through JS to load the modal with bootstrap's modal feature -->
</button>
  
<!-- Modal -->
<div class="modal fade" id="modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body text-center">
                <h5>Triggered {{ modalDetails.action }} action to {{ modalDetails.service }} service.</h5>
                <div *ngIf="modalDetails.loading">
                    <img src="/assets/loading.gif" width="50">
                </div>
                <div *ngIf="!modalDetails.loading">
                    <p [class.success]="modalDetails.response_code === 200" [class.fail]="modalDetails.response_code !== 200">Response Status: {{ modalDetails.response_code }}</p>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modal">Close</button>
            </div>
        </div>
    </div>
</div>